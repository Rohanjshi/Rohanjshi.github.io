<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>股票股数计算器</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table {
            width: 80%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h2>股票股数计算器</h2>

    <form id="divisionForm">
        <label for="inputNumber">预配股金额:</label>
        <input type="number" id="inputNumber" min="1" required>

        <label for="presetNumber">配股IPO:</label>
        <select id="presetNumber">
            <option value="150,1000">WOL 3D India Limited</option>
            <option value="20,5">单价: 20，最少数量: 5</option>
            <option value="30,10">单价: 30，最少数量: 10</option>
            <option value="50,8">单价: 50，最少数量: 8</option>
        </select>

        <button type="submit">计算最接近股数</button>
    </form>

    <table id="resultTable" style="display:none;">
        <thead>
            <tr>
                
                <th>单股价格</th>
                <th>每手的股数</th>
                <th>每手的金额</th>
                <th>配股手数</th>
                <th>配股股数</th>
		<th>配股金额</th>
            </tr>
        </thead>
        <tbody>
            <tr>
             
                <td id="priceCell"></td>
                <td id="minQtyCell"></td>
                <td id="presetNumCell"></td>
                <td id="divisionResultCell"></td>
                <td id="closestStockCell"></td>
		<td id="finalNumber"></td>
            </tr>
        </tbody>
    </table>

    <script>
        document.getElementById('divisionForm').addEventListener('submit', function(event) {
            event.preventDefault(); // 阻止表单默认提交行为

            const inputNumber = document.getElementById('inputNumber').value;
            const [price, minQty] = document.getElementById('presetNumber').value.split(',').map(Number); // 提取单价和最少数量

            if (inputNumber && inputNumber > 0) {
                const presetNumber = price * minQty; // 预置固定数 = 单价 * 最少数量
                const divisionResult = Math.floor(inputNumber / presetNumber); // 计算整除数
                const closestStock = divisionResult * minQty; // 最接近的股数 = 整除结果 * 最少数量
		const finalNumber = closestStock * price;

                // 将计算结果填入表格
                
                document.getElementById('priceCell').textContent = price;
                document.getElementById('minQtyCell').textContent = minQty;
                document.getElementById('presetNumCell').textContent = presetNumber;
                document.getElementById('divisionResultCell').textContent = divisionResult;
                document.getElementById('closestStockCell').textContent = closestStock;
		document.getElementById('finalNumber').textContent = finalNumber;

                // 显示表格
                document.getElementById('resultTable').style.display = 'table';
            } else {
                alert('请输入有效的正整数');
            }
        });
    </script>

</body>
</html>
